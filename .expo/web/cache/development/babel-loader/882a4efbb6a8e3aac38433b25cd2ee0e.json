{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ModalInput from \"./components/ModalInput\";\nimport moment from \"moment\";\nimport ButtonsRow from \"../stopper/components/ButtonsRow\";\nimport ButtonClick from \"../stopper/components/ButtonClick\";\nimport DisplayDateClock from \"./components/DisplayDateClock\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar hour = new Date().getHours();\nvar minutes = new Date().getMinutes();\nvar seconds = new Date().getSeconds();\nvar am_pm = 'pm';\n\nvar AppWatch = function AppWatch() {\n  var _useState = useState('AM/PM'),\n      _useState2 = _slicedToArray(_useState, 2),\n      fotmetWatch = _useState2[0],\n      setfotmetWatch = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ss = _useState4[0],\n      setssclock = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      clock = _useState6[0],\n      setclock = _useState6[1];\n\n  var _useState7 = useState('fr-FR'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      clockFormat = _useState8[0],\n      setclockFormat = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      clockOffset = _useState10[0],\n      setclockOffset = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      dateOffset = _useState12[0],\n      setdateOffset = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      hoursValue = _useState14[0],\n      sethoursValue = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      minuteValue = _useState16[0],\n      setminuteValue = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      secondValue = _useState18[0],\n      setsecondValue = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      dateValue = _useState20[0],\n      setDateValue = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      modalOpen = _useState22[0],\n      setmodalOpen = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      modalFormat = _useState24[0],\n      setmodalFormat = _useState24[1];\n\n  var clockNow = new Date();\n  useEffect(function () {\n    var interval = setInterval(function () {\n      setclock(new Date(clockNow.getTime() + clockOffset).toLocaleTimeString);\n      setclock(clockNow.toLocaleTimeString());\n    }, 1000);\n    return function () {\n      clearInterval(interval);\n    };\n  });\n\n  var set = function set() {\n    if (modalOpen == false) {\n      setmodalOpen(true);\n    } else {\n      setmodalOpen(false);\n    }\n  };\n\n  var save = function save(values) {\n    var userTimeInSeconds = parseInt(values.hours) * 60 * 60 + parseInt(values.minute) * 60 + parseInt(values.second);\n    var currTimeInSeconds = clockNow.getHours() * 60 * 60 + clockNow.getMinutes() * 60 + clockNow.getSeconds();\n    console.log(values.date);\n    setclockOffset((userTimeInSeconds - currTimeInSeconds) * 1000);\n    setdateOffset(new Date(values.date).getTime() + userTimeInSeconds * 1000 - clockNow.getTime());\n  };\n\n  var pormatWatch = function pormatWatch() {\n    if (clockFormat == 'fr-FR') {\n      setclockFormat('en-US');\n    } else {\n      setclockFormat('fr-FR');\n    }\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(DisplayDateClock, {\n      clock: new Date(new Date().getTime() + clockOffset).toLocaleTimeString(clockFormat),\n      date: moment(new Date(new Date().getTime() + dateOffset)).format('DD/MM/YYYY'),\n      fontSize: 45\n    }), fotmetWatch == 'AM/PM' && _jsxs(ButtonsRow, {\n      children: [_jsx(ButtonClick, {\n        title: \"Set\",\n        background: \"#5F9EA0\",\n        onPress: set,\n        fontSize: 22\n      }), _jsx(ButtonClick, {\n        title: \"AM/PM\",\n        background: \"#5F9EA0\",\n        onPress: pormatWatch,\n        fontSize: 15\n      })]\n    }), fotmetWatch == '24H' && _jsxs(ButtonsRow, {\n      children: [_jsx(ButtonClick, {\n        title: \"Set\",\n        background: \"#5F9EA0\",\n        onPress: set,\n        fontSize: 22\n      }), _jsx(ButtonClick, {\n        title: \"24H\",\n        background: \"#B0E0E6\",\n        onPress: pormatWatch,\n        fontSize: 25\n      })]\n    }), _jsx(ModalInput, {\n      modalOpen: modalOpen,\n      set: set,\n      save: save,\n      modalFormat: modalFormat\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'black',\n    alignItems: 'center',\n    paddingTop: 100,\n    paddingHorizontal: 20\n  }\n});\nexport default AppWatch;","map":{"version":3,"sources":["C:/Users/micha/Desktop/react netive/project/watch/AppWatch.jsx"],"names":["React","useState","useEffect","ModalInput","moment","ButtonsRow","ButtonClick","DisplayDateClock","hour","Date","getHours","minutes","getMinutes","seconds","getSeconds","am_pm","AppWatch","fotmetWatch","setfotmetWatch","ss","setssclock","clock","setclock","clockFormat","setclockFormat","clockOffset","setclockOffset","dateOffset","setdateOffset","hoursValue","sethoursValue","minuteValue","setminuteValue","secondValue","setsecondValue","dateValue","setDateValue","modalOpen","setmodalOpen","modalFormat","setmodalFormat","clockNow","interval","setInterval","getTime","toLocaleTimeString","clearInterval","set","save","values","userTimeInSeconds","parseInt","hours","minute","second","currTimeInSeconds","console","log","date","pormatWatch","styles","container","format","StyleSheet","create","flex","backgroundColor","alignItems","paddingTop","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, View} from 'react-native';\r\nimport ModalInput from './components/ModalInput';\r\nimport moment from \"moment\";\r\n\r\nimport ButtonsRow from '../stopper/components/ButtonsRow'\r\nimport ButtonClick from '../stopper/components/ButtonClick'\r\nimport DisplayDateClock from './components/DisplayDateClock'\r\n\r\n  let hour = new Date().getHours();\r\n  let minutes = new Date().getMinutes();\r\n  let seconds = new Date().getSeconds();\r\n  let am_pm = 'pm';\r\n\r\n// const getCurrentTime = () => {\r\n//   if (minutes < 10) {\r\n//     minutes = '0' + minutes;\r\n//   }\r\n//   if (seconds < 10) {\r\n//     seconds = '0' + seconds;\r\n//   }\r\n//   if (hour > 12) {\r\n//     hour = hour - 12;\r\n//   }\r\n//   if (hour == 0) {\r\n//     hour = 12;\r\n//   }\r\n//   if (new Date().getHours() < 12) {\r\n//     am_pm = 'am';\r\n//   }\r\n// }\r\n\r\n const AppWatch = ()=> {\r\n    const [fotmetWatch,setfotmetWatch]= useState('AM/PM')\r\n    // const [hh,sethhclock] = useState()\r\n    // const [mm,setmmclock] = useState()\r\n     const [ss,setssclock] = useState()\r\n    const [clock,setclock]=useState()\r\n    const [clockFormat,setclockFormat]=useState('fr-FR')\r\n    const [clockOffset,setclockOffset]=useState(0)\r\n    const [dateOffset,setdateOffset]=useState(0)\r\n\r\n    const [hoursValue,sethoursValue]= useState('')\r\n    const [minuteValue,setminuteValue]= useState('')\r\n    const [secondValue,setsecondValue]= useState('')\r\n    const [dateValue,setDateValue]= useState('')\r\n\r\n    // Modal\r\n    const [modalOpen,setmodalOpen]=useState(false)\r\n    const [modalFormat, setmodalFormat] = useState(false)\r\n\r\n\r\n    const clockNow=new Date()\r\n\r\n    useEffect(()=>{\r\n        const interval =setInterval(()=>{\r\n          // getCurrentTime()\r\n          // sethhclock(hour)\r\n          // setmmclock(minutes)\r\n          //setssclock(seconds)\r\n          setclock(new Date(clockNow.getTime() + clockOffset).toLocaleTimeString)\r\n          setclock(clockNow.toLocaleTimeString())\r\n        },1000)\r\n\r\n        return ()=>{\r\n          clearInterval(interval)\r\n        }\r\n    })\r\n\r\n    \r\n  // Functions for the buttons\r\n    const set = ()=>{\r\n      if(modalOpen == false){\r\n        setmodalOpen(true)\r\n      }else{\r\n        setmodalOpen(false)\r\n      }\r\n    }\r\n\r\n    const save=(values)=>{\r\n      let userTimeInSeconds = parseInt(values.hours) * 60 * 60 +\r\n         parseInt(values.minute) * 60 +\r\n         parseInt(values.second)\r\n      \r\n      let currTimeInSeconds = \r\n        clockNow.getHours() * 60 * 60 +\r\n        clockNow.getMinutes() * 60 +\r\n        clockNow.getSeconds()\r\n      console.log(values.date)\r\n      setclockOffset((userTimeInSeconds - currTimeInSeconds) * 1000)\r\n      setdateOffset(new Date(values.date).getTime() + userTimeInSeconds * 1000 - clockNow.getTime())\r\n    }\r\n\r\n    const pormatWatch = ()=>{\r\n      if (clockFormat == 'fr-FR') {\r\n        setclockFormat('en-US')\r\n      } else {\r\n        setclockFormat('fr-FR')\r\n      }  \r\n    }\r\n\r\n    return (\r\n      <View style={styles.container} >\r\n\r\n        <DisplayDateClock \r\n        clock={(new Date(new Date().getTime() + clockOffset)).toLocaleTimeString(clockFormat)}\r\n        date={moment(new Date(new Date().getTime() + dateOffset)).format('DD/MM/YYYY')}\r\n        fontSize={45}\r\n        >\r\n        </DisplayDateClock>\r\n      \r\n        {fotmetWatch == 'AM/PM' && (<ButtonsRow>\r\n            <ButtonClick title=\"Set\"  background=\"#5F9EA0\"  onPress={set} fontSize={22}></ButtonClick>\r\n            <ButtonClick title=\"AM/PM\"  background=\"#5F9EA0\" onPress={pormatWatch} fontSize={15}></ButtonClick>\r\n        </ButtonsRow>\r\n        )}\r\n\r\n        {fotmetWatch == '24H' && (<ButtonsRow>\r\n            <ButtonClick title=\"Set\"  background=\"#5F9EA0\"   onPress={set} fontSize={22}></ButtonClick>\r\n            <ButtonClick title=\"24H\"  background=\"#B0E0E6\" onPress={pormatWatch} fontSize={25}></ButtonClick>\r\n        </ButtonsRow>\r\n        )}\r\n\r\n        <ModalInput \r\n        modalOpen={modalOpen} \r\n        set={set} save={save} \r\n        modalFormat={modalFormat}\r\n        />\r\n\r\n      </View>\r\n   );\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: 'black',\r\n        alignItems: 'center',\r\n        paddingTop: 100,\r\n        paddingHorizontal:20,\r\n      },\r\n    \r\n});\r\n\r\nexport default AppWatch\r\n\r\n"]},"metadata":{},"sourceType":"module"}